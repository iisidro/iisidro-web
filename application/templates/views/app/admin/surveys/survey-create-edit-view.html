<form name="surveyCreateEditCtrl.surveyForm" ng-init="surveyCreateEditCtrl.initialize()" novalidate>
    <div layout>
        <md-input-container flex>
            <label>Titulo de la encuesta</label>
            <input name="nombre" ng-model="surveyCreateEditCtrl.survey.nombre" required>
            <div ng-messages="surveyCreateEditCtrl.getErrors('nombre')" ng-show="surveyCreateEditCtrl.showMessages('nombre')">
                <div ng-message="required">Debe ingresar un titulo para la encuesta</div>
            </div>
        </md-input-container>
    </div>
    <h3 class="md-display-0">Secciones</h3>
    <div layout>
        <md-input-container flex>
            <label>Seleccione una seccion a agregar</label>
            <md-select name="section" ng-model="surveyCreateEditCtrl.section">
                <md-option ng-repeat="section in surveyCreateEditCtrl.sections" ng-value="section"
                    ng-selected="section.id === surveyCreateEditCtrl.section.id">
                    {{section.nombre}}
                </md-option>
            </md-select>
        </md-input-container>
    </div>
    <md-button ng-click="surveyCreateEditCtrl.addSection()" type="submit">
        Agregar seccion
    </md-button>
    <br />
    <br />
    <div>
        <table content="surveyCreateEditCtrl.survey.secciones"
            columns="surveyCreateEditCtrl.columns"
            actions="surveyCreateEditCtrl.actions"></table>
    </div>
    <br />
    <br />
    <div>
        <md-button ng-disabled="surveyCreateEditCtrl.submitting"
            ng-click="surveyCreateEditCtrl.handleFormSubmit($event)"
            type="submit">
            Guardar
        </md-button>
        <md-button
            ui-sref = "base.app.admin.surveys.list">
            Cancelar
        </md-button>
    </div>
</form>
