<form name="questionCreateEditCtrl.questionForm" ng-init="questionCreateEditCtrl.initialize()" novalidate>
    <div layout>
        <md-input-container flex>
            <label>Texto de la pregunta</label>
            <input name="nombre" ng-model="questionCreateEditCtrl.question.nombre" required>
            <div ng-messages="questionCreateEditCtrl.getErrors('nombre')" ng-show="questionCreateEditCtrl.showMessages('nombre')">
                <div ng-message="required">Debe ingresar un texto para la pregunta</div>
            </div>
        </md-input-container>
        <md-input-container flex>
            <label>Tipo</label>
            <md-select name="tipo" ng-model="questionCreateEditCtrl.question.tipo" required>
                <md-option ng-repeat="questionType in questionCreateEditCtrl.questionTypes" ng-value="questionType"
                    ng-selected="questionType.id === questionCreateEditCtrl.question.tipo.id">
                    {{questionType.nombre}}
                </md-option>
            </md-select>
            <div ng-messages="questionCreateEditCtrl.getErrors('tipo')" ng-show="questionCreateEditCtrl.showMessages('tipo')">
                <div ng-message="required">Debe seleccionar un tipo para la pregunta</div>
            </div>
        </md-input-container>
    </div>
    <div layout ng-if="questionCreateEditCtrl.question.tipo.nombre === 'texto'">
        <md-input-container flex="50">
            <label>Longitud maxima</label>
            <input name="maxLength" ng-model="questionCreateEditCtrl.question.maxLength" required min="0" max="255" type="number">
            <div ng-messages="questionCreateEditCtrl.getErrors('maxLength')" ng-show="questionCreateEditCtrl.showMessages('maxLength')">
                <div ng-message="required">Debe ingresar una longitud maxima para la pregunta</div>
                <div ng-message="min">La longitud maxima debe ser un numero positivo</div>
                <div ng-message="max">La longitud maxima no puede ser mayor a 255</div>
            </div>
        </md-input-container>
    </div>
    <div>
        <md-button ng-disabled="questionCreateEditCtrl.submitting"
            ng-click="questionCreateEditCtrl.handleFormSubmit($event)"
            type="submit">
            Guardar
        </md-button>
        <md-button
            ui-sref = "base.app.admin.questions.list">
            Cancelar
        </md-button>
    </div>
</form>
